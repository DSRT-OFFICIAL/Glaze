// ==================== generate-dts-final.js ====================
import fs from "fs";
import path from "path";
import { GlazeNamedColors } from "./GlazeAll.js";
import { GlazeNamedGradients } from "./GlazeAll.js";

const colorKeys = Object.keys(GlazeNamedColors).sort();
const gradientKeys = Object.keys(GlazeNamedGradients).sort();

let dtsContent = `// ==================== colors.d.ts (AUTOGENERATED FINAL) ====================

export interface RGB { r: number; g: number; b: number; }
export interface RGBA extends RGB { a: number; }
export interface RGBFloat { r: number; g: number; b: number; }
export interface HSV { h: number; s: number; v: number; }
export interface HSL { h: number; s: number; l: number; }
export interface CMYK { c: number; m: number; y: number; k: number; }

export interface GlazeColorFormats {
  hex: string;
  rgb: RGB;
  rgba: RGBA;
  rgbaString: string;
  rgbFloat: RGBFloat;
  hsv: HSV;
  hsl: HSL;
  cmyk: CMYK;
}

export const GlazeNamedColors: {
${colorKeys.map(k => `  "${k}": GlazeColorFormats;`).join("\n")}
};

export const GlazeNamedGradients: {
${gradientKeys.map(k => `  "${k}": string;`).join("\n")}
};

export const GlazeUtils: {
  hexToRGB(hex: string): RGB;
  rgbToRGBA(rgb: RGB, a?: number): RGBA;
  rgbToRGBAString(rgb: RGB, a?: number): string;
  rgbToFloat(rgb: RGB): RGBFloat;
  rgbToHSV(rgb: RGB): HSV;
  rgbToHSL(rgb: RGB): HSL;
  rgbToCMYK(rgb: RGB): CMYK;
  generateGradient(hex1: string, hex2: string, deg?: number): string;
};
`;

fs.writeFileSync(path.resolve("./colors.d.ts"), dtsContent, "utf8");
console.log("âœ… colors.d.ts generated from GlazeAll.js");
